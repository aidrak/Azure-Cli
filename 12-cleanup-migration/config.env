#!/bin/bash

################################################################################
# Cleanup Configuration for AVD Deployment
################################################################################

# Load centralized configuration
CENTRALIZED_CONFIG="${CENTRALIZED_CONFIG:-../config/avd-config.sh}"
[[ -f "$CENTRALIZED_CONFIG" ]] && source "$CENTRALIZED_CONFIG"

# ============================================================================
# AZURE ENVIRONMENT
# ============================================================================

export SUBSCRIPTION_ID="${SUBSCRIPTION_ID:-}"
export RESOURCE_GROUP_NAME="${RESOURCE_GROUP_NAME:-RG-Azure-VDI-01}"

# ============================================================================
# CLEANUP OPTIONS
# ============================================================================

# WARNING: These options will delete resources
export CLEANUP_TEMP_VMS="${CLEANUP_TEMP_VMS:-false}"
export CLEANUP_TEMP_IMAGES="${CLEANUP_TEMP_IMAGES:-false}"
export DRY_RUN="${DRY_RUN:-true}"

# Resource patterns to identify for cleanup
export TEMP_RESOURCE_PATTERN="${TEMP_RESOURCE_PATTERN:-temp|tmp}"

# ============================================================================
# LOGGING & ARTIFACTS
# ============================================================================

export LOG_LEVEL="${LOG_LEVEL:-INFO}"
export ENABLE_LOGGING="${ENABLE_LOGGING:-1}"
export ARTIFACTS_DIR="${ARTIFACTS_DIR:-artifacts}"
