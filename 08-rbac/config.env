#!/bin/bash

################################################################################
# RBAC Configuration for AVD Deployment
################################################################################

# Load centralized configuration
CENTRALIZED_CONFIG="${CENTRALIZED_CONFIG:-../config/avd-config.sh}"
[[ -f "$CENTRALIZED_CONFIG" ]] && source "$CENTRALIZED_CONFIG"

# ============================================================================
# AZURE ENVIRONMENT
# ============================================================================

export SUBSCRIPTION_ID="${SUBSCRIPTION_ID:-}"
export RESOURCE_GROUP_NAME="${RESOURCE_GROUP_NAME:-RG-Azure-VDI-01}"

# ============================================================================
# SECURITY GROUPS & ROLES
# ============================================================================

export AVD_USERS_GROUP_NAME="${AVD_USERS_GROUP_NAME:-AVD-Users}"
export AVD_ADMINS_GROUP_NAME="${AVD_ADMINS_GROUP_NAME:-AVD-Admins}"

# Role assignments
export USER_ROLE="${USER_ROLE:-Desktop Virtualization User}"
export ADMIN_ROLE="${ADMIN_ROLE:-Virtual Machine Contributor}"

# ============================================================================
# LOGGING & ARTIFACTS
# ============================================================================

export LOG_LEVEL="${LOG_LEVEL:-INFO}"
export ENABLE_LOGGING="${ENABLE_LOGGING:-1}"
export ARTIFACTS_DIR="${ARTIFACTS_DIR:-artifacts}"
